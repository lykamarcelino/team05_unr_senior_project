<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Home</title>
  <link rel="stylesheet" type="text/css" href="../static/css/style.css" th:href="@{css/style.css}"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

  <script type="application/javascript" src="https://unpkg.com/react@16/umd/react.development.js"></script>
  <script type="application/javascript" src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin="anonymous"></script>
  <script type="application/javascript" src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>

  <script>

    if(window.opener) {
      window.opener.location.href = '/connected'
      window.close()
    }

    function home() {
      $("#result").html('Loading...')
      $.get("/getHome", function(data) {
        $("#result").html(data)
      })
    }

    function user() {
      $.get("/getUser", function(data) {
        $("#result").html(data)
      })
    }

    function editGraph() {
      $.get("/getEditGraph", function(data) {
        $("#result").html(data);
        console.log(data);
      })
    }

    function newGraph() {
      $.get("/getNewGraph", function(data) {
        $(".result").html(data)
      })
    }

    function accountData() {
      $.get("/getInventory", function(data) {
        $("#result").html(data)
      })
    }

  </script>

</head>

<body>
<div class="topnav">
  <navButton onclick="user()">User</navButton>
  <navButton href="#Settings">Settings</navButton>
  <navButton href="#Help">Help</navButton>
</div>

<sidenav>
  <div id="like_button_container"></div>
  <button onclick="home()">Home</button>
  <button href="#Reports">Reports</button>
  <button onclick="newGraph()">New Graph</button>
  <button onclick="editGraph()">Edit Graph</button>
  <button onclick="accountData()">Account Data</button>
  <button href="#Log Out">Log Out</button>
</sidenav>

<!-- Load our React component. -->
<div class="result"><code id="result"></code></div>

<script src="modules.js"></script>

</body>

</html>
